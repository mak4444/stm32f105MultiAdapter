# stm32f105MultiAdapter

Проверялось на Linux/64
Для независимости от платформы в для целевой компиляции использовалась виртуальная форт машина на СИ.

Контроллер stm32f105 (thumb2)
Для отладчика создается промежуточное ассемблерные представление
(файлы с суффиксом _AL) из исходнного кода на Форте (see SRC/).
Применяется инлайн подстановка с оптимизацией MetaCortex/SRC/macroopt.f 
Переменная TMM_SIZE содержит максимальный размер инлайн подстановки.
TSET-OPT - включить оптимизацию
TDIS-OPT - отключить оптимизацию
Слова для словаря прописываются в отдельном файле Wortbirne.s  

Взаимодействие с пользователем осуществляется посредством USB (VT100).
Сначала появляется меню выбора режима работы.
Пункт "FORTH (original)" - запуск Форт системы с изначальным состоянием переменных.

Работает компиляция в ОЗУ.
Для сохранения образа ОЗУ используется команда SAVE.
Пункт меню "FORTH (rest)" при старте - запуск Форт системы с восстановлением 
образа ОЗУ.

Пункт меню "CAN" - запуск CAN адаптера.

Download: https://github.com/mak4444/stm32f105MultiAdapter


