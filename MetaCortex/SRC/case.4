
' DROP	TO 'DROP
' OVER	TO 'OVER
' =	TO '=

MVARIABLE   CSP    \ The stack control pointer

: CASE 
  CSP @ SP@ CSP ! ; IMMEDIATE

: ?OF_ 
  POSTPONE IF
 'DROP
 COMPILE,

; IMMEDIATE

: OF 
 'OVER 
 COMPILE,
 '=
 COMPILE,
 POSTPONE ?OF_
; IMMEDIATE


: ENDOF 
  POSTPONE ELSE
; IMMEDIATE

: DUPENDCASE
  BEGIN SP@ CSP @ <> WHILE POSTPONE THEN REPEAT
  CSP ! ; IMMEDIATE

: ENDCASE 
  'DROP COMPILE, POSTPONE DUPENDCASE 
; IMMEDIATE

: OF\
  POSTPONE OVER POSTPONE <> POSTPONE IF ; IMMEDIATE

: OF;
  POSTPONE OVER POSTPONE = POSTPONE IF 2>R
  POSTPONE DUPENDCASE  2R>
  POSTPONE DROP ; IMMEDIATE


